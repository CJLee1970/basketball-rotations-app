<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Roster â€” Basketball Rotation Manager</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header id="main-header">
    <h1>Basketball Rotation Manager</h1>
    <nav id="main-nav">
      <a class="nav-btn" href="dashboard.html">Dashboard</a>
      <a class="nav-btn" href="players.html">Roster</a>
      <a class="nav-btn" href="rotation.html">New Rotation</a>
      <span id="user-email-display"></span>
      <button id="logout-btn" onclick="signOut()" style="display:none;">Logout</button>
    </nav>
  </header>

  <main>
    <section id="roster-view" class="view">
      <h2>Manage Team Roster</h2>
      <div id="roster-form-container">
        <h3>Add/Edit Player</h3>
        <form id="player-form">
          <input type="hidden" id="player-id" />
          <input type="text" id="player-name" placeholder="Player Name" required />
          <select id="player-position" required>
            <option value="" disabled selected>Select Position</option>
            <option value="PG">PG</option>
            <option value="SG">SG</option>
            <option value="SF">SF</option>
            <option value="PF">PF</option>
            <option value="C">C</option>
          </select>
          <input type="number" id="player-number" placeholder="Jersey #" required />
          <input type="number" step="0.1" id="player-ppg" placeholder="Avg. PPG" required />
          <input type="number" step="0.1" id="player-rpg" placeholder="Avg. RPG" required />
          <input type="number" step="0.1" id="player-spg" placeholder="Avg. SPG" required />
          <label for="player-color" class="color-picker-label">Player Color:</label>
          <input type="color" id="player-color" value="#1976d2" />
          <button type="submit">Save Player</button>
          <button type="button" id="clear-form-btn">New Player</button>
        </form>
      </div>

      <div id="roster-list-container">
        <h3>Current Roster</h3>
        <table id="roster-table">
          <thead>
            <tr>
              <th>Name</th><th>Pos</th><th>#</th><th>Color</th><th>PPG</th><th>RPG</th><th>SPG</th><th>Actions</th>
            </tr>
          </thead>
          <tbody id="roster-table-body"></tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/common.js"></script>
  <script src="js/roster.js"></script>
  <script>
    setUserBadge();
    requireAuth(()=>{ fetchRoster(); });
  </script>
</body>
</html>
